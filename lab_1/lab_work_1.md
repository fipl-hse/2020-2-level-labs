# Лабораторная работа №1

## Дано
1. Произвольный английский текст в виде мнострочной строки. Произвольность означает наличие любых символов, в том числе знаков 
препинания и чисел. Текст на английском языке. Строка может быть пустой.
    
2. Список из стоп-слов. Слова могут быть произвольными. Список может быть пустым.

## Терминология

В данной работе вы встретитесь с термином "конкорданс". 

Конкорданс – это список контекстов искомого слова в исследуемом корпусе (тексте).
Данные списки полезны для изучения устойчивых словосочетаний (коллокаций).

Пример:

'Yesterday the weather was sunny and windy. Today it is sunny and windy too.'

Искомое слово – 'sunny'. Конкорданс – [['the', 'weather', 'was', 'sunny', 'and'], ['today', 'it', 'is', 'sunny', 'and']].

Подробную информацию про конкорданс вы можете найти в источниках в конце данного файла. Однако для выполнения лабораторной работы достаточно понимать,
что конкорданс - это список примеров употребления определённого слова в заданном тексте.

## Что надо сделать

### Шаг 0. Подготовка (проделать вместе с ассистентом на практике).

1. Создать форк репозитория
2. Установить необходимые инструменты для работы
3. Изменить файлы `main.py` и `start.py`
4. Закоммитить изменения и создать pull request

### Шаг 1. Токенизировать текст. 

Функция должна возвращать список слов (токенов) без знаков препинания в нижнем регистре.

Токены могут состоять только из букв английского алфавита (не допускаются цифры и любые другие символы внутри слова).
При этом любые символы (кроме букв) внутри токена удаляются, например, don't заменяется на dont, round-up на roundup и т.д.

Если на вход подаются некорректные значения, возвращается пустой список.

Интерфейс: 
```py
def tokenize(text: str) -> list:
  pass
```

### Шаг 2. Получить список токенов без стоп-слов.

Функция должна возвращать список токенов без стоп-слов. 

Если на вход подаются некорректные токены, возвращается пустой список.

Если на вход подаются некорректные стоп-слова, возвращается список токенов без изменений.


Интерфейс: 
```py
def remove_stop_words(tokens: list, stop_words: list) -> list:
  pass
```

### Шаг 3. Получить частотный словарь по заданному тексту.

Ключ - токен, значение - число (частота).

Функция должна возвращать объект типа dict. 

Если на вход подаются некорректные токены, возвращается пустой словарь.


Интерфейс: 
```py
def calculate_frequencies(tokens: list) -> dict:
  pass
```

### Шаг 4. Получить список первых N по популярности слов.

Первый элемент списка - самое популярное слово. Последний элемент списка - N-ное по популярности слово.

Функция должна возвращать объект типа list. 

Если на вход подаюся некорректные значения, возвращается пустой список.


Интерфейс: 
```py
def get_top_n_words(freq_dict: dict, top_n: int) -> list:
  pass
```

### Шаг 5. Получить конкорданс по заданному слову. Выполнение Шагов 1-5 соответствует 6 баллам

Функция должна возвращать список употреблений данного слова в тексте. При этом на количество слов в левом и в правом контексте накладываются ограничения. 

Если на вход подаются некорректные токены или слово, возвращается пустой список. 

Если на вход подается одно некорректное значение из left_context_size или right_context_size, возвращается только правый или левый контекст вместе с исходным словом соответственно, например, [['the', 'weather', 'was', 'sunny'], ['today', 'it', 'is', 'sunny']] при исходном слове 'sunny', left_context_size = 3, right_context_size = 0. Некорректным значением считается значение меньше 1.

Если оба значения left_context_size и right_context_size некорректны, возвращается пустой список.

Например,
['yesterday, 'the', 'weather', 'was', 'sunny', 'and', 'windy', 'today', 'it', 'is', 'sunny', 'and', 'windy', 'too'].
* Слово – 'sunny'. Ограничение на количество слов в левом контексте – 3, в правом – 1.
* В тексте находим два употребления слова 'sunny'. Выделяем 3 слова в левом контексте и 1 слово в правом у каждого примера соответственно.
* В первом примере в левом контексте находим 3 слова ['the', 'weather', 'was'], в правом 1 ['and'].
* Во втором примере в левом контексте находим 3 слова ['today', 'it', 'is'], в правом 1 ['and'].
* Функция возвращает список примеров в виде токенов – [['the', 'weather', 'was', 'sunny', 'and'], ['today', 'it', 'is', 'sunny', 'and']].



Интерфейс: 
```py
def get_concordance(tokens: list, word: str, left_context_size: int, right_context_size: int) -> list:
  pass
```

### Шаг 6. Получить слово из левого и правого контекста.

В данной функции ОБЯЗАТЕЛЬНО использовать функцию get_concordance (см. Шаг 5).

Функция должна возвращать список пар слов из левого и правого контекста из всех контекстов,
в которых данное слово встречается. 

Если на вход подаются некорректные токены или слово, возвращается пустой список.

Если на вход подается одно некорректное значение из left_n или right_n, возвращается не пара слов, а одно слово из правого или левого контекста соответственно, например, [['the'], ['today']] при исходном слове 'sunny', left_n = 3, right_n = 0.

Если оба значения left_n и right_n некорректны, возвращается пустой список.

Например,
['yesterday, 'the', 'weather', 'was', 'sunny', 'and', 'windy', 'today', 'it', 'is', 'sunny', 'and', 'windy', 'too'].
* Слово – 'sunny'. Нужно найти 3-е слово в левом контексте, в правом – 1-е.
* В первом примере в левом контексте находим 3-е слово ['the'], в правом 1-е ['and'].
* Во втором примере в левом контексте находим 3-е слово ['today'], в правом 1-е ['and'].
* Функция возвращает список пар слов – [['the', 'and'], ['today', 'and']].

Интерфейс: 
```py
def get_adjacent_words(tokens: list, word: str, left_n: int, right_n: int) -> list:
  pass
```

### Шаг 7. Работа с файлами. Выполнение Шагов 1-7 соответствует 8 баллам

Запись конкорданса в файл. Название файла - `report.txt`. Лежит в папке 'lab_1'.
Внутренняя структура: каждая строка содержит пример употребления заданного слова. Количество строк соответствует размеру конкорданса.
Первая строка содержит самое ранее появление слова в контексте.


Интерфейс: 
```py
def write_to_file(path_to_file: str, content: list):
  pass
```

### Шаг 8. Отсортировать конкорданс по левому или правому контексту. Выполнение Шагов 1-8 соответствует 10 баллам

В данной функции ОБЯЗАТЕЛЬНО использовать функцию get_concordance (см. Шаг 5).

Функция должна возвращать список отсортированных по алфавиту примеров употребления данного слова. 
Примеры сортируются по первому слову либо левого контекста, либо правого.

Если значение left_sort некорректно, возвращается пустой список.

Например,
['yesterday, 'the', 'weather', 'was', 'sunny', 'and', 'windy', 'today', 'it', 'is', 'sunny', 'and', 'windy', 'too'].
* Слово – 'sunny'. Ограничение на количество слов в левом контексте – 1, в правом – 1.
* Конкорданс – [['was', 'sunny', 'and'], ['is', 'sunny', 'and']].
* Сортируем по левому контексту, сравниваем первые слова левого контекста из всех примеров: 'was' и 'is' ('I' < 'W'). 
* Получаем – [['is', 'sunny', 'and'], ['was', 'sunny', 'and']].
* Сортируем по правому контексту, сравниваем первые слова правого контекста из всех примеров: 'and' и 'and'. 
* Получаем – [['was', 'sunny', 'and'], ['is', 'sunny', 'and']].

Интерфейс: 
```py
def sort_concordance(tokens: list, word: str, left_context_size: int, right_context_size: int, left_sort: bool) -> list:
  pass
```

## Ссылки

* http://www.lomonosov-fund.ru/enc/ru/encyclopedia:0127200:article
* http://infomotions.com/blog/2018/04/concordance/
* https://core.ac.uk/download/pdf/83100161.pdf
